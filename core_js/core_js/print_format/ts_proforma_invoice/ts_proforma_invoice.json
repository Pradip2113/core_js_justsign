{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-09-12 13:06:26.867034",
 "css": ".print-format{\n     line-height:1  !important;\n     margin-top:15px;\n     /*margin-top:15px;*/\n     /*margin-bottom:55px !important;*/\n}\n.print-format td, .print-format th {\n\tpadding: 4px !important;\n\tfont-size:12px\n}\n @page {\n      margin: 1cm;\n    }\n.main{\n    border:1px solid black;\n}\n.first-header{\n    width:100%;\n    border-bottom:1px solid black;\n    display:flex;\n    \n}\n.second-header{\n    width:100%;\n}\n.item{\n    width:100%;\n    border-top:1px solid black;\n     border-bottom-style:double;\n}\n.item th{\n    border-right:1px solid black;\n}\n.item td{\n    border-right:1px solid black;\n}\n.final{\n    width:100%;\n    padding-left:5px;\n    padding-top:5px;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Order",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set invoice_details = get_invoice_item_and_tax_details(voucher_type = doc.doctype, voucher_no = doc.name) %}\n{% if doc.customer_address %}\n{% set ads_title_cus = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='address_title') %}\n{% set ads_1 = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='address_line1') %}\n{% set ads_2 = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='address_line2') %}\n{% set city_js = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='city') %}\n{% set state_js = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='state') %}\n{% set pin_js = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='pincode') %}\n{% set coun_js = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='country') %}\n{% set gst_js = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='gstin') %}\n{% set state_code_js = frappe.db.get_value(\"Address\",filters={'name':doc.customer_address},fieldname='gst_state_number') %}\n{% endif %}\n\n<!--{% if doc.shipping_address_name %}-->\n<!--{% set ads_1_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='address_line1') %}-->\n<!--{% set ads_2_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='address_line2') %}-->\n<!--{% set city_js_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='city') %}-->\n<!--{% set state_js_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='State') %}-->\n<!--{% set pin_js_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='Pincode') %}-->\n<!--{% set coun_js_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='Country') %}-->\n<!--{% set gst_js_sa = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='gstin') %}-->\n<!--{% set Phone = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='Phone') %}-->\n<!--{% set state_code_js_ = frappe.db.get_value(\"Address\",filters={'name':doc.shipping_address_name},fieldname='gst_state_number') %}-->\n<!--{% endif %}-->\n\n{% if doc.company_address %}\n{% set ads_title = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='address_title') %}\n{% set ads_3 = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='address_line1') %}\n{% set ads_4 = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='address_line2') %}\n{% set city = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='city') %}\n{% set state = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='state') %}\n{% set pin = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='pincode') %}\n{% set coun = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='country') %}\n{% set gst = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='gstin') %}\n{% set state_code = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='gst_state_number') %}\n{% set phone_no = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='phone') %}\n{% set email_id = frappe.db.get_value(\"Address\",filters={'name':doc.company_address},fieldname='email_id') %}\n{% endif %}\n\n {% set acc_name = frappe.db.get_value(\"Bank Account\", filters={\"company\":doc.company}, fieldname='account_name') %}\n {% set acc_no = frappe.db.get_value(\"Bank Account\", filters={\"company\":doc.company}, fieldname='bank_account_no') %}\n {% set acc_bank = frappe.db.get_value(\"Bank Account\", filters={\"company\":doc.company}, fieldname='bank') %}\n {% set acc_ifsc = frappe.db.get_value(\"Bank Account\", filters={\"company\":doc.company}, fieldname='branch_code') %}\n {% set acc_branch = frappe.db.get_value(\"Bank Account\", filters={\"company\":doc.company}, fieldname='branch_name') %}\n {% set acc_swift = frappe.db.get_value(\"Bank Account\", filters={\"company\":doc.company}, fieldname='swift_code') %}\n\n{% set max_items_per_page = 9 %}\n{% set items_list = [[]] %}\n\n{% for row in invoice_details.get(\"items\") %}\n    {% set _= items_list[-1].append(row) %}\n    {% if (row.idx % max_items_per_page)==0 %}\n        {% set _= items_list.append([]) %}\n    {% endif %}\n{% endfor %}\n{% set current_loop = [] %}\n\n{% for items in items_list %}\n    {% set _=current_loop.append(1) %}\n<html>\n <p style=\"text-align:right\">Page No:{{current_loop|length}}</p>\n <span style=\"padding-bottom:10px\" ><b><center>Order Form</center></b></span>\n\n    <div class=\"main\">\n        <div class=\"first-header\">\n            <div classs=\"company\" style=\" padding-left:5px; float:left; width:75%;\">\n                <p><b>{{doc.company}}</b></p>\n                <p>{{ads_3 or \"\"}}</p>\n                <p>{{ads_4 or \"\"}} {{city or \"\"}} - {{pin or \"\"}}</p>\n                <p>{{state or \"\"}} ( {{state_code or \"\"}} )</p>\n                <p>{{phone_no or \"\" }}</p>\n                <p>{{email_id or \"\" }}</p>\n                <p>GST No: {{gst or \"\"}}</p>\n            </div>\n            <div class=\"image\" style=\"float:right; width:25%;\">\n                {% set company_image = frappe.db.get_value(\"Company\", filters={\"name\":doc.company}, fieldname='company_logo') %}\n                 <img src= \"{{company_image}}\" style =\"height:100px; padding-left:30px\" >\n            </div>\n         </div>\n        <div class=\"second-header\">\n           <div style=\"padding-left:5px; float:left; width:55%; border-right:1px solid-black !important\">\n                <p><b>{{doc.customer}}</b></p>\n                <!--<p>{{ads_title_cus or \"\"}}</p>-->\n                <p>{{ads_1 or \"\"}}</p>\n                <p>{{ads_2 or \"\"}}</p>\n                <p>{{city_js or \"\"}} - {{pin_js or \"\"}}</p>\n                <p>{{coun_js or \"\"}}</p>\n                <p>{{doc.contact_mobile or \"\"}}</p>\n                <p>{{doc.contact_email or \"\"}}</p>\n                <p>GST No : {{gst_js or \"\"}}</p>\n                <!--<p>State Name :{{state_js or \"\"}}  Code:</p>-->\n            </div>\n            <div style='padding-left:5px; float:right; width:45%;'>\n                <table style=\"border-left: 1px solid black; width:100%\">\n                    <tr style=\"border-bottom: 1px solid black\">\n                        <td style=\"border-right: 1px solid black\"><b>Order No.</b></td>\n                        <td><b>{{doc.name}}</b></td>\n                    </tr>\n                    <tr style=\"border-bottom: 1px solid black\">\n                        <td style=\"border-right: 1px solid black\"><b>Date</b></td>\n                        <td><b>{{doc.transaction_date}}</b></td>\n                    </tr>\n                    <tr style=\"border-bottom: 1px solid black\">\n                        <td style=\"border-right: 1px solid black\">Place Of Supply</td>\n                        <td>{{doc.place_of_supply}}</td>\n                    </tr>\n                    <tr style=\"border-bottom: 1px solid black\">\n                        <td style=\"border-right: 1px solid black\">Dispatch Through</td>\n                        <td></td>\n                    </tr>\n                    <tr style=\"border-bottom: 1px solid black\">\n                        <td style=\"border-right: 1px solid black\">Payment Mode</td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td style=\"border-right: 1px solid black\">Credit Days</td>\n                        <td></td>\n                    </tr>\n                </table>\n            </div>\n     </div>\n     {% set final_total = [] %}\n    <table class=\"item\" style=\"height:10cm; font-size:\">\n        <tr style='border-bottom:1px solid black;color:solid black; height:1cm'>\n            <th style=\"width:2%;border-left:0px solid-black;\"><center>S.No</center></th>\n            <th><center>Description of Goods</center></th>\n            <th style=\"width:8%\"><center>HSN Code</center></th>\n            <th style=\"\"><center>Size</center></th>\n            <th style=\"width:8%\"><center>Qty</center></th>\n            <th style=\"width:10%\"><center>Rate</center></th>\n            <th style=\"width:10%\"><center>Amt</center></th>\n            {% if \"In-state\" in doc.taxes_and_charges %}\n            <th style=\"width:6%\" colspan=2><center>CGST</center></th>\n            <th style=\"width:6%\" colspan=2><center>SGST</center></th>\n            {% else %}\n            <th style=\"width:6%\" colspan=2><center>IGST</center></th>\n            {% endif %}\n            <th style=\"width:7%; border-right:none !important\"><center>Total</center></th>\n        </tr>\n             \n        {% for row in items or [] %}\n        {% set total=[] %}\n        \n        <tr style='border-bottom:1px solid black;color:solid black;height:1cm'>\n            <td style=\"width:2%\">{{row.idx}}</td>\n            <td>{{row.item_name}}</td>\n            <td style=\"width:8%\">{{row.gst_hsn_code}}</td>\n            <td style=\"width:10%\">{{row.uom}}</td>\n            <td style=\"width:8%; text-align:right\">{{row.qty}}</td>\n            <td style=\"width:10%; text-align:right\">{{\"%.2f\" % row.rate}}</td>\n            <td style=\"width:10%; text-align:right\">{{\"%.2f\" % row.amount}}</td>\n            {% set amount_=total.append(row.amount) %}\n            {% if \"In-state\" in doc.taxes_and_charges %}\n            <td style=\"width:6%\">{{ row.cgst_percent or \"\" }}</td>\n            <td style=\"width:6%\">{{\"%.2f\" % row.cgst_amount or \"\"}}</td>\n            {% set cgst_a=total.append(row.cgst_amount) %}\n            <td style=\"width:6%\">{{ row.sgst_percent or \"\" }}</td>\n            <td style=\"width:6%\">{{\"%.2f\" % row.sgst_amount or \"\"}}</td>\n            {% set sgst_a=total.append(row.sgst_amount) %}\n            {% else %}\n            <td style=\"width:6%\">{{ row.igst_percent or \"\" }}</td>\n            <td style=\"width:6%\">{{\"%.2f\" %  row.igst_amount or \"\"}}</td>\n             {% set igst_a=total.append(row.igst_amount) %}\n            {% endif %}\n            <td style=\"width:10%;  border-right:none !important; text-align:right\">{{\"%.2f\" % total|sum}}</td>\n            {% set final_t=final_total.append( total|sum) %}\n        </tr>\n         {% endfor %}\n         {% if current_loop|length != items_list|length %}\n            \t<tr>\n            \t    <td style='border-top:1px solid black;padding-top: 0px !important;padding-bottom: 0px !important;' colspan=14>\n            \t        <center>\n            \t            **To Be Continued**\n            \t        </center>\n            \t    </td>\n            \t</tr>\n        \t{% endif %}\n         {% if current_loop|length == items_list|length %}\n         {% if items|length < 8 %}\n         {% for i in range(8 - items|length) %}\n           <tr style='border-bottom:1px solid black;color:solid black; height:1cm'>\n            <td style=\"width:2%\"></td>\n            <td></td>\n            <td style=\"width:8%\"></td>\n            <td style=\"width:10%\"></td>\n            <td style=\"width:8%; text-align:right\"></td>\n            <td style=\"width:10%; text-align:right\"></td>\n            <td style=\"width:10%; text-align:right\"></td>\n            {% if \"In-state\" in doc.taxes_and_charges %}\n            <td style=\"width:6%\"></td>\n            <td style=\"width:6%\"></td>\n            <td style=\"width:6%\"></td>\n            <td style=\"width:6%\"></td>\n            {% else %}\n            <td style=\"width:6%\"></td>\n            <td style=\"width:6%\"></td>\n            {% endif %}\n            <td style=\"width:10%;  border-right:none !important; text-align:right\"></td>\n        </tr>\n        {% endfor %}\n        {% endif %}\n        <tr style=\"height:1cm\">\n            <td style=\"width:2%; text-align:right\" colspan=4>Total</td>\n            <td style=\"width:8%; text-align:right\"><b>{{doc.total_qty}}</b></td>\n            <td style=\"width:10%; text-align:right\"></td>\n            <td style=\"width:10%; text-align:right\"><b>{{\"%.2f\" % doc.total}}</b></td>\n             {% if \"In-state\" in doc.taxes_and_charges %}\n            <td style=\"width:6%; text-align:right\" colspan=2>{{ \"%.2f\"%(invoice_details.get(\"cgst\") or 0) }}</td>\n            <td style=\"width:6%; text-align:right\" colspan=2>{{ \"%.2f\"%(invoice_details.get(\"sgst\") or 0) }}</td>\n            {% else %}\n            <td style=\"width:6%; text-align:right\" colspan=2>{{ \"%.2f\"%(invoice_details.get(\"igst\") or 0) }}</td>\n            {% endif %}\n            <td style=\"width:10%;  border-right:none !important; text-align:right\">{{\"%.2f\" % final_total|sum}}</td>\n        </tr>\n       {% endif %}\n    </table>\n    \n    <div class=\"tax\" style=\"width:100%; border-bottom:1px solid black;display:flex;\">\n        <div style=\"float:left; width:70%\">\n        <table >\n            <tr style=\"border-bottom:1px solid black\">\n                <td style=\"width:10%; border-right: 1px solid black\">GST</td>\n                <td style=\"width:15%; border-right: 1px solid black\">Taxable Amt.</td>\n                  {% if \"In-state\" in doc.taxes_and_charges %}\n                <td style=\"width:15%; border-right: 1px solid black\">CGST</td>\n                <td style=\"width:15%; border-right: 1px solid black\">SGST</td>\n                {% else %}\n                <td style=\"width:20%; border-right: 1px solid black\">IGST</td>\n                {% endif %}\n                <td style=\"width:15%\">Total Tax</td>\n               \n            </tr>\n              {% set fre=[] %}\n            {% for freight in doc.taxes %}\n            {% if \"Freight\" in  freight.description %}\n            {% set _=fre.append(freight.tax_amount) %}\n            {% endif %}\n            {% endfor %}\n              {% for tax_row in (invoice_details.get('tax_details') or []) %}\n            {% set gst =sum(fre)*(18/100) %}\n            <tr>\n                <td>{{ tax_row.get(\"tax_percentage_so\") or '' }}</td> \n                <td style=\"width:15%\">{% if tax_row.get(\"tax_percentage_so\") == \"Totals\" %} {{ \"%.2f\" % ((tax_row.get(\"taxable_amount\") or 0.00) + sum(fre)  )}} {% else %} {{ \"%.2f\" % tax_row.get(\"taxable_amount\") or '' }} {% endif %}</td>\n                {% if \"In-state\" in doc.taxes_and_charges %}\n                <td>{% if tax_row.get(\"tax_percentage_so\") == \"Totals\" %} {{\"%.2f\" %  ((tax_row.get(\"cgst\") or 0.00)+(gst/2)) }} {% else %} {{ \"%.2f\" % tax_row.get(\"cgst\") or '' }} {% endif %}</td>\n                <td>{% if tax_row.get(\"tax_percentage_so\") == \"Totals\" %} {{\"%.2f\" %  ((tax_row.get(\"sgst\") or 0.00)+(gst/2)) }} {% else %} {{ \"%.2f\" % tax_row.get(\"sgst\") or '' }} {% endif %}</td>\n                {% else %}\n                <td>{% if tax_row.get(\"tax_percentage_so\") == \"Totals\" %} {{\"%.2f\" %  ((tax_row.get(\"igst\") or 0.00)+gst) }} {% else %} {{\"%.2f\" %  tax_row.get(\"igst\") or '' }} {% endif %}</td>\n                {% endif %}\n                <td>{% if tax_row.get(\"tax_percentage_so\") == \"Totals\" %} {{\"%.2f\" %  ((tax_row.get(\"total_tax_amount\") or 0.00) +gst) }} {% else %} {{\"%.2f\" %  tax_row.get(\"total_tax_amount\") or '' }} {% endif %}</td>\n            </tr>\n            {% endfor %}\n                 \n            <!--  <tr>-->\n            <!--    <td></td>-->\n            <!--    <td></td>-->\n            <!--    {% if \"In-state\" in doc.taxes_and_charges %}-->\n            <!--    <td>37980.00</td>-->\n            <!--    <td>37980.00</td>-->\n            <!--    {% else %}-->\n            <!--    <td></td>-->\n            <!--    {% endif %}-->\n            <!--    <td></td>-->\n            <!--</tr>-->\n        </table>\n        </div>\n        <div style=\"float:right; width:30%; border-left: 1px solid black;display:flex \">\n        <table style=\"width:100%\">\n           \n            {% for freight in doc.taxes %}\n            {% if \"Freight\" in  freight.description %}\n            <tr>\n                <td style=\"border-right: 1px solid black\">Freight <br> {{\"%.2f\" % freight.tax_amount or 0.00}}</td>\n                <td> Freight Total <br> (Inc GST)  <br> {{\"%.2f\" % ((freight.tax_amount*0.18)+ freight.tax_amount) or 0.00}}</td>\n            </tr>\n            {% endif %}\n            {% endfor %}\n        </table>\n        </div>\n    </div>\n    \n     <div style=\"border-bottom:1px solid black; padding-left:5px; width:100%; display:flex\">\n        <p>Total Amount in Words</p>\n        <p>{{doc.in_words}}</p>\n     </div>\n     \n     <div style=\"width:100%; display:flex; border-bottom:1px solid black\" >\n         <div style=\"padding-left:5px;float:left; border-right:1px solid ;width:75%;\">\n                <p><b>Bank Details</b></p><br>\n                <p>ACCOUNT NAME - {{acc_name or \"\"}}, ACCOUNT NO \u2013 {{acc_no or \"\"}}</p>\n                <p>BANK NAME - {{acc_bank or \"\"}}, IFSC CODE \u2013 {{acc_ifsc or \"\"}}</p>\n                <p>BRANCH \u2013 {{acc_branch or \"\"}}</p>\n        </div>\n        <div style=\"float:right; width:25%;\">\n            <table style=\"width:100%; height:100%\">\n                <tr style=\" border-bottom:1px solid ;\">\n                    <td style=\"border-right:1px solid black; \">Round Off</td>\n                    <td>{{\"%.2f\" % doc.rounding_adjustment}}</td>\n                </tr>\n                <tr style=\"border-left:1px solid black\">\n                    <td style=\"border-right:1px solid black;\"><b>Net Total</b></td>\n                    <td><b>{{\"%.2f\" % doc.grand_total}}</b></td>\n                </tr>\n            </table>\n        </div>\n     </div>\n     \n     <div style=\"width:100%;\">\n         <div style=\"padding-left:5px;float:left;\">\n            <p><b>Terms and Conditions</b></p><br>\n            <p style=\"font-size:10px\">1. Payments should be made as terms of payments stipulated in the invoice otherwise interest of 3%</p>\n            <p style=\"font-size:10px\">Will be Levied on base price</p>\n            <p style=\"font-size:10px\">2. Our Responsibility ceases the moment goods leave our premises</p>\n            <p style=\"font-size:10px\">3. Goods once sold cannot be taken or exchanged</p>\n            <p style=\"font-size:10px\">SUBJECT TO BANGALORE JURISDICTION</p>\n         </div>\n         <div style=\"float:right; \">\n            <p style=\"padding-top:3px; padding-right:7px\"><b>For {{doc.company}}</b></p><br>\n            <br>\n            <br>\n            <br>\n            <p style=\"padding-right:7px;\"><b>Authorized Signatories</b></p>\n         </div>\n     </div>\n     \n     <div class=\"final\" style=\"height:43px; display:flex; border-top:1px solid black\">\n         <div style=\"float:left; width:50%;\"><b>Party Signature</b></div>\n         <div style=\"float:right; width:50%; text-align:right; padding-right:5px\"><b>E. & O.E</b></div>\n         <br>\n         <br>\n         <br>\n     </div>\n    </div>\n    <div style=\"page-break-after: always;\"></div>\n </html>\n {% endfor %}\n{% set current_loop = [] %}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-07-18 10:58:37.129090",
 "modified_by": "Administrator",
 "module": "Core Js",
 "name": "TS Proforma Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}